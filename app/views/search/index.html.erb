<h2>Search Results</h2>

<div class="container card bg-light fw-bold mt-2 mb-3">
  <%= form_with url: search_travelers_path, method: :get, local: true do |f| %>
    
    <div class="row">
      <div class="col-lg-6 form-group">
        <%= f.label :country, 'Country', class: 'form-label mt-2 mb-2' %>
        <%= f.text_field :country, class: 'form-control' %>
      </div>

      <div class="col-lg-6 form-group">
        <%= f.label :city, 'City', class: 'form-label mt-2 mb-2' %>
        <%= f.text_field :city, class: 'form-control' %>
      </div>
    </div>

    <div class="form-group">
      <%= f.label :airport, 'Airport', class: 'form-label mt-2 mb-2' %>
      <%= f.text_field :airport, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :date, 'Date', class: 'form-label mt-2 mb-2' %>
      <%= f.date_field :travel_date, class: 'form-control' %>
    </div>

    <div class="form-group">
      <%= f.label :type, 'Search Type', class: 'form-label mt-2 mb-2' %>
      <%= f.select :type, ['Traveler', 'Send Package', 'Buy Item'], {prompt: 'Select'}, { class: 'form-select' } %>
    </div>

    <div class="form-group">
      <%= f.submit 'Search', class: 'btn btn-primary mt-2 mb-2' %>
    </div>
  <% end %>
  
</div>


<div class="container">
  <% if @results.present? %>
    <% @results.each do |result| %>
      <div class="card p-4 mt-2 mb-3 ">
        <% if result.is_a?(Traveler) %>
          <p><strong>Traveler:</strong> <%= result.name %></p>
          <p><strong>Travel Date:</strong> <%= result.travel_date %></p>
          <p><strong>Airport:</strong> <%= result.airport %></p>
        <% else %>
          <p><strong>Announcement Type:</strong> <%= result.announcement_type %></p>
          <p><strong>Date:</strong> <%= result.date %></p>
          <p><strong>City:</strong> <%= result.city %></p>
          <p><strong>Country:</strong> <%= result.country %></p>
        <% end %>
      </div>
    <% end %>
  <% else %>
    <p>No results found.</p>
  <% end %>
</div>